# åœ¨çº¿å­¦ä¹ ä¸ä½œä¸šç®¡ç†å¹³å°

åŸºäº Next.js å¼€å‘çš„åœ¨çº¿å­¦ä¹ ä¸ä½œä¸šç®¡ç†å¹³å°ï¼Œæ”¯æŒä½œä¸šæäº¤ã€AIè‡ªåŠ¨æ‰¹æ”¹å’Œæ¯•ä¸šèµ„æ ¼å®¡æ ¸ã€‚

## åŠŸèƒ½ç‰¹æ€§

### å­¦å‘˜åŠŸèƒ½
- ğŸ“ **ä½œä¸šæäº¤**: æ™ºèƒ½åŒ–ä½œä¸šæäº¤æµç¨‹ï¼Œæ”¯æŒå¤šæ–‡ä»¶ä¸Šä¼ 
- ğŸ“Š **ä½œä¸šæŸ¥è¯¢**: æŸ¥çœ‹ä½œä¸šæäº¤å†å²å’Œæ‰¹æ”¹ç»“æœ
- ğŸ“ **æ¯•ä¸šèµ„æ ¼æ£€æŸ¥**: å®æ—¶æ£€æŸ¥æ¯•ä¸šæ¡ä»¶è¾¾æˆæƒ…å†µ
- ğŸ”„ **é‡æ–°æäº¤**: ä¸åˆæ ¼ä½œä¸šæ”¯æŒé‡æ–°æäº¤

### æŠ€æœ¯ç‰¹æ€§
- ğŸ¤– **AIæ™ºèƒ½æ‰¹æ”¹**: é›†æˆè±†åŒ…å¤§æ¨¡å‹è¿›è¡Œè‡ªåŠ¨æ‰¹æ”¹
- âš¡ **å·¥ä½œæµè‡ªåŠ¨åŒ–**: ä½¿ç”¨Difyå·¥ä½œæµå®ç°æ¯•ä¸šèµ„æ ¼å®¡æ ¸
- ğŸ“± **å“åº”å¼è®¾è®¡**: é€‚é…å„ç§è®¾å¤‡å±å¹•
- ğŸš€ **é«˜æ€§èƒ½éƒ¨ç½²**: æ”¯æŒNetlifyä¸€é”®éƒ¨ç½²

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**: Next.js 15, React 18, TypeScript, Tailwind CSS
- **åç«¯**: Next.js API Routes, Supabase
- **æ•°æ®åº“**: PostgreSQL (Supabase)
- **å­˜å‚¨**: Supabase Storage
- **AIæœåŠ¡**: è±†åŒ…å¤§æ¨¡å‹ (DouBao AI)
- **å·¥ä½œæµ**: Dify
- **éƒ¨ç½²**: Netlify

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd learning-platform
```

### 2. å®‰è£…ä¾èµ–
```bash
npm install
```

### 3. ç¯å¢ƒé…ç½®
å¤åˆ¶ `.env.local` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```env
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url_here
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# DouBao AI Configuration
DOUBAO_API_KEY=your_doubao_api_key_here

# Dify Configuration  
DIFY_API_KEY=your_dify_api_key_here
DIFY_WORKFLOW_URL=your_dify_workflow_url_here
```

### 4. æ•°æ®åº“è®¾ç½®
1. åœ¨ Supabase æ§åˆ¶å°ä¸­åˆ›å»ºæ–°é¡¹ç›®
2. æ‰§è¡Œ `database-setup.sql` ä¸­çš„SQLè¯­å¥åˆ›å»ºè¡¨æ ¼
3. åœ¨Storageä¸­åˆ›å»ºåä¸º `assignments` çš„å­˜å‚¨æ¡¶

### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

è®¿é—® http://localhost:3000 æŸ¥çœ‹åº”ç”¨ã€‚

## æ•°æ®åº“ç»“æ„

### students (å­¦å‘˜è¡¨)
- `student_id`: å­¦å· (ä¸»é”®)
- `student_name`: å­¦å‘˜å§“å
- `created_at`: åˆ›å»ºæ—¶é—´
- `updated_at`: æ›´æ–°æ—¶é—´

### assignments (ä½œä¸šè¡¨)
- `assignment_id`: ä½œä¸šID (ä¸»é”®)
- `day_number`: å­¦ä¹ å¤©æ•°
- `assignment_title`: ä½œä¸šæ ‡é¢˜
- `is_mandatory`: æ˜¯å¦å¿…åš
- `description`: ä½œä¸šæè¿°
- `created_at`: åˆ›å»ºæ—¶é—´
- `updated_at`: æ›´æ–°æ—¶é—´

### submissions (æäº¤è¡¨)
- `submission_id`: æäº¤ID (ä¸»é”®)
- `student_id`: å­¦å· (å¤–é”®)
- `assignment_id`: ä½œä¸šID (å¤–é”®)
- `submission_date`: æäº¤æ—¶é—´
- `attachments_url`: é™„ä»¶URLåˆ—è¡¨
- `status`: æ‰¹æ”¹çŠ¶æ€ ('æ‰¹æ”¹ä¸­', 'åˆæ ¼', 'ä¸åˆæ ¼')
- `feedback`: æ‰¹æ”¹åé¦ˆ
- `created_at`: åˆ›å»ºæ—¶é—´
- `updated_at`: æ›´æ–°æ—¶é—´

## APIæ¥å£

### POST /api/grade-assignment
è§¦å‘AIä½œä¸šæ‰¹æ”¹
```json
{
  "studentId": "å­¦å·",
  "assignmentId": "ä½œä¸šID", 
  "attachmentUrls": ["é™„ä»¶URLæ•°ç»„"]
}
```

### POST /api/check-graduation
æ£€æŸ¥æ¯•ä¸šèµ„æ ¼
```json
{
  "studentId": "å­¦å·"
}
```

## éƒ¨ç½²æŒ‡å—

### Netlifyéƒ¨ç½²
1. å°†ä»£ç æ¨é€åˆ°Gitä»“åº“
2. åœ¨Netlifyä¸­è¿æ¥ä»“åº“
3. é…ç½®ç¯å¢ƒå˜é‡
4. éƒ¨ç½²åº”ç”¨

### ç¯å¢ƒå˜é‡é…ç½®
åœ¨Netlifyæ§åˆ¶å°çš„Environment Variablesä¸­é…ç½®ï¼š
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- `DOUBAO_API_KEY`
- `DIFY_API_KEY`
- `DIFY_WORKFLOW_URL`

## ä½¿ç”¨è¯´æ˜

### å­¦å‘˜ä½¿ç”¨æµç¨‹
1. **æäº¤ä½œä¸š**
   - è¾“å…¥å­¦å·ï¼Œç³»ç»Ÿè‡ªåŠ¨æ˜¾ç¤ºå§“å
   - é€‰æ‹©å­¦ä¹ å¤©æ•°å’Œå¯¹åº”ä½œä¸š
   - ä¸Šä¼ ä½œä¸šé™„ä»¶ï¼ˆæ”¯æŒå¤šæ–‡ä»¶ï¼‰
   - æäº¤åè¿›å…¥AIæ‰¹æ”¹æµç¨‹

2. **æŸ¥è¯¢ä½œä¸š**
   - è¾“å…¥å­¦å·æŸ¥çœ‹æ‰€æœ‰æäº¤è®°å½•
   - æŸ¥çœ‹æ‰¹æ”¹çŠ¶æ€å’Œåé¦ˆ
   - å¯¹ä¸åˆæ ¼ä½œä¸šè¿›è¡Œé‡æ–°æäº¤

3. **æ¯•ä¸šèµ„æ ¼æ£€æŸ¥**
   - è¾“å…¥å­¦å·æ£€æŸ¥æ¯•ä¸šæ¡ä»¶
   - æŸ¥çœ‹å¿…åšä½œä¸šå®Œæˆæƒ…å†µ
   - è·å–å…·ä½“çš„æ”¹è¿›å»ºè®®

### ç®¡ç†å‘˜é…ç½®
1. **å­¦å‘˜ç®¡ç†**: åœ¨Supabaseä¸­ç®¡ç†å­¦å‘˜ä¿¡æ¯
2. **ä½œä¸šé…ç½®**: æ·»åŠ æˆ–ä¿®æ”¹ä½œä¸šè¦æ±‚
3. **æ‰¹æ”¹ç›‘æ§**: æŸ¥çœ‹AIæ‰¹æ”¹ç»“æœå’Œç³»ç»ŸçŠ¶æ€

## å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„
```
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±
â”‚   â”œâ”€â”€ submit-assignment/ # ä½œä¸šæäº¤é¡µé¢
â”‚   â”œâ”€â”€ my-assignments/    # ä½œä¸šæŸ¥è¯¢é¡µé¢
â”‚   â””â”€â”€ graduation-check/  # æ¯•ä¸šæ£€æŸ¥é¡µé¢
â”œâ”€â”€ components/            # å¯å¤ç”¨ç»„ä»¶
â”œâ”€â”€ lib/                   # å·¥å…·åº“
â””â”€â”€ types/                 # TypeScriptç±»å‹å®šä¹‰
```

### å¼€å‘å‘½ä»¤
```bash
npm run dev      # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build    # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run start    # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run lint     # ä»£ç æ£€æŸ¥
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **æ–‡ä»¶ä¸Šä¼ å¤±è´¥**: æ£€æŸ¥Supabaseå­˜å‚¨æ¡¶é…ç½®å’Œæƒé™
2. **AIæ‰¹æ”¹ä¸å·¥ä½œ**: éªŒè¯è±†åŒ…APIå¯†é’¥å’Œæ¥å£é…ç½®
3. **æ¯•ä¸šæ£€æŸ¥å¼‚å¸¸**: ç¡®è®¤Difyå·¥ä½œæµé…ç½®æ­£ç¡®
4. **æ•°æ®åº“è¿æ¥é—®é¢˜**: æ£€æŸ¥Supabaseè¿æ¥å­—ç¬¦ä¸²å’Œæƒé™

### æ—¥å¿—æŸ¥çœ‹
- å‰ç«¯æ—¥å¿—: æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ§åˆ¶å°
- åç«¯æ—¥å¿—: Netlify Functionsæ—¥å¿—
- æ•°æ®åº“æ—¥å¿—: Supabaseæ§åˆ¶å°

## è®¸å¯è¯

MIT License

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜è¯·è”ç³»é¡¹ç›®ç»´æŠ¤è€…ã€‚